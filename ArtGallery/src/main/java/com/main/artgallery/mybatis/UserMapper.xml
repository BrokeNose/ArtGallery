<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">
	<select id="getList">
		SELECT id,email, roll, regdate, deldate
		FROM T_User	
	</select>
	<insert id="insert" parameterType="userDto">
  		INSERT INTO T_User 
		(id, pwd, email, roll, regdate, deldate) 
		VALUES(#{id}, #{pwd}, #{email}, 'U', SYSDATE, NULL)
	</insert>
	<select id="getData" parameterType="string" resultType="userDto">
		SELECT id, pwd, email, roll, regdate, deldate 
  		FROM T_User 
  		WHERE id=#{id}
	</select>
	<update id="update" parameterType="userDto">
		UPDATE T_User 
		SET email=#{email}, roll=#{roll}
		WHERE id=#{id}
	</update>
  <update id="changePwd" parameterType="userDto">
  	UPDATE T_User 
  	SET pwd=#{pwd} 
  	WHERE id=#{id}
  </update>
  <delete id="delete" parameterType="string">
  	UPDATE T_User
  	SET deldate=SYSDATE
  	WHERE id=#{id}
  </delete>
  <select id="isExist" parameterType="string" resultType="string">
  	SELECT id 
  	FROM T_User 
  	WHERE id=#{id}
  </select>
</mapper>